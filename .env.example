# ===========================================
# 바투 AI 마케팅 솔루션 - 환경변수 설정
# ===========================================
# 이 파일을 .env.local로 복사하여 실제 값을 입력하세요
# cp .env.example .env.local

# -------------------------------------------
# App Configuration
# -------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -------------------------------------------
# Database (Supabase PostgreSQL)
# -------------------------------------------
# 개발환경: 로컬 PostgreSQL 또는 Supabase
# 프로덕션: Supabase Connection Pooling 사용
DATABASE_URL="postgresql://user:password@localhost:5432/batwo?schema=public"
# Prisma 마이그레이션용 Direct URL (Connection Pooling 우회)
DIRECT_URL="postgresql://user:password@localhost:5432/batwo?schema=public"

# -------------------------------------------
# NextAuth.js (필수)
# -------------------------------------------
NEXTAUTH_URL="http://localhost:3000"
# 시크릿 생성: openssl rand -base64 32
NEXTAUTH_SECRET="your-nextauth-secret-at-least-32-characters-long"

# -------------------------------------------
# Meta Ads API (필수 - Meta 광고 연동)
# -------------------------------------------
# 1. https://developers.facebook.com 에서 앱 생성
# 2. Facebook 로그인 제품 추가
# 3. 유효한 OAuth 리디렉션 URI 설정:
#    - http://localhost:3000/api/auth/callback/facebook (개발)
#    - https://yourdomain.com/api/auth/callback/facebook (프로덕션)
# 4. 앱 검수에서 아래 권한 요청 필요:
#    - ads_management, ads_read, business_management, pages_read_engagement
META_APP_ID=""
META_APP_SECRET=""

# Meta Mock Mode (set to "true" for development without real Meta API)
META_MOCK_MODE="true"

# Facebook SDK (클라이언트 사이드 - 선택)
# META_APP_ID와 동일한 값 사용
NEXT_PUBLIC_META_APP_ID=""

# -------------------------------------------
# OpenAI API (선택 - AI 기능 사용 시 필요)
# -------------------------------------------
# https://platform.openai.com 에서 API 키 발급
OPENAI_API_KEY=""

# -------------------------------------------
# OAuth Providers (선택)
# -------------------------------------------
# Google OAuth: https://console.cloud.google.com
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# Kakao OAuth: https://developers.kakao.com
KAKAO_CLIENT_ID=""
KAKAO_CLIENT_SECRET=""

# -------------------------------------------
# Monitoring - Sentry (선택 - 프로덕션 권장)
# -------------------------------------------
# https://sentry.io 에서 프로젝트 생성 후 발급
SENTRY_DSN=""
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_AUTH_TOKEN=""
# Sentry 조직 및 프로젝트 (Source Maps 업로드용)
SENTRY_ORG=""
SENTRY_PROJECT=""
# 릴리즈 버전 (CI/CD에서 자동 설정)
SENTRY_RELEASE=""
NEXT_PUBLIC_SENTRY_RELEASE=""

# -------------------------------------------
# Observability - OpenTelemetry (선택)
# -------------------------------------------
# OpenTelemetry 활성화 여부 (프로덕션 권장)
OTEL_ENABLED="false"
# OTLP Exporter 엔드포인트 (예: Jaeger, Grafana Tempo)
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318/v1/traces"

# -------------------------------------------
# Cache - Redis (선택 - 프로덕션 권장)
# -------------------------------------------
# Redis URL (로컬: redis://localhost:6379, 프로덕션: Upstash/Railway)
REDIS_URL=""
# 캐시 활성화 여부 (false로 설정 시 인메모리 캐시 사용)
CACHE_ENABLED="true"

# -------------------------------------------
# Rate Limiting - Upstash Redis (선택)
# -------------------------------------------
# https://upstash.com 에서 Redis 인스턴스 생성
UPSTASH_REDIS_REST_URL=""
UPSTASH_REDIS_REST_TOKEN=""

# -------------------------------------------
# Email Service - Resend (필수 - 알림 및 리포트 발송)
# -------------------------------------------
# https://resend.com 에서 API 키 발급
RESEND_API_KEY=""
RESEND_FROM_EMAIL="noreply@batwo.co.kr"

# -------------------------------------------
# Cron Job Security (필수)
# -------------------------------------------
# Vercel Cron 엔드포인트 인증용 시크릿
# ⚠️ CRITICAL: 반드시 설정해야 합니다. 설정하지 않으면 Cron 작업이 실행되지 않습니다.
# 생성: openssl rand -base64 32
# Vercel 대시보드의 Environment Variables에도 동일하게 설정 필요
CRON_SECRET=""

# -------------------------------------------
# Audit HMAC 서명 시크릿 (프로덕션 필수)
# -------------------------------------------
# 감사 보고서 위조 방지를 위한 HMAC-SHA256 서명 키
# ⚠️ CRITICAL: 프로덕션에서 반드시 설정해야 합니다. 미설정 시 서버 시작 실패.
# 개발/테스트 환경에서는 미설정 시 내장 기본값 사용 (경고 로그 출력)
# 생성: openssl rand -hex 32
AUDIT_HMAC_SECRET=""

# -------------------------------------------
# Cafe24 Platform Integration (선택)
# -------------------------------------------
# https://developers.cafe24.com 에서 앱 등록 후 발급
CAFE24_CLIENT_ID=""
CAFE24_CLIENT_SECRET=""
CAFE24_REDIRECT_URI="http://localhost:3000/api/platform/cafe24/callback"

# -------------------------------------------
# Research API (선택 - Phase 3)
# -------------------------------------------
# Perplexity API 키: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=""
# 리서치 기능 활성화 (true/false)
RESEARCH_ENABLED="false"

# -------------------------------------------
# NextAuth v5 (선택 - AUTH_SECRET 또는 NEXTAUTH_SECRET 중 하나 필수)
# -------------------------------------------
# NextAuth v5는 AUTH_SECRET를 우선 사용
AUTH_SECRET=""

# -------------------------------------------
# Internal Flags (개발/테스트용)
# -------------------------------------------
# 데이터베이스 어댑터 건너뛰기 (디버깅용)
SKIP_DATABASE_ADAPTER="false"
# Meta API Warmup 대상 계정 ID (스크립트용)
WARMUP_ACCOUNT_ID=""

# -------------------------------------------
# Integration Test (선택 - 실제 Meta API 테스트용)
# -------------------------------------------
# Meta API 실제 통합 테스트 실행 시 필요
# 주의: 실제 API를 호출하므로 테스트 계정 사용 권장
META_TEST_ACCESS_TOKEN=""
META_TEST_AD_ACCOUNT_ID=""

# -------------------------------------------
# Toss Payments
# -------------------------------------------
TOSS_CLIENT_KEY=test_gck_docs_Ovk5rk1EwkEbP0W43n07xlzm
TOSS_SECRET_KEY=test_gsk_docs_OaPz8L5KdmQXkzRz3y47BMw6
TOSS_BILLING_ENCRYPTION_KEY=your-32-byte-encryption-key-here
NEXT_PUBLIC_TOSS_CLIENT_KEY=test_gck_docs_Ovk5rk1EwkEbP0W43n07xlzm
